<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/rooctblog/blog/rss.xml" title="Develop Site Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/rooctblog/blog/atom.xml" title="Develop Site Blog Atom Feed"><title data-react-helmet="true">BabyToken | Develop Site</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://rooct.github.io/rooctblog/docs/projects/BabyToken"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="BabyToken | Develop Site"><meta data-react-helmet="true" name="description" content="BabyToken"><meta data-react-helmet="true" property="og:description" content="BabyToken"><link data-react-helmet="true" rel="shortcut icon" href="/rooctblog/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://rooct.github.io/rooctblog/docs/projects/BabyToken"><link data-react-helmet="true" rel="alternate" href="https://rooct.github.io/rooctblog/docs/projects/BabyToken" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://rooct.github.io/rooctblog/docs/projects/BabyToken" hreflang="x-default"><link rel="stylesheet" href="/rooctblog/assets/css/styles.dec01b5a.css">
<link rel="preload" href="/rooctblog/assets/js/runtime~main.312148dc.js" as="script">
<link rel="preload" href="/rooctblog/assets/js/main.831e0284.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rooctblog/"><img src="/rooctblog/img/logo.svg" alt="Dev Site Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/rooctblog/img/logo.svg" alt="Dev Site Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title">Dev Site</b></a><a class="navbar__item navbar__link navbar__link--active" href="/rooctblog/docs/intro">Solidity</a><a class="navbar__item navbar__link" href="/rooctblog/docs/frontend">Frontend</a><a class="navbar__item navbar__link" href="/rooctblog/blog">Blog</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle toggle_2i4l react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_iYfV">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button class="clean-btn backToTopButton_i9tI" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist" href="#">Getting Start</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/intro">Intruduction</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist" href="#">Api</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/api/Address">Address</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/api/BlockTx">Block &amp; Transaction</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/api/Contract">Contract</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/api/Crypto">Crypto</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/api/Error">Error</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist" href="#">Example</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist" href="#" tabindex="0">App</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/app/BiDirectionalPaymentChannel">Bi-Directional Payment Channel</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/app/Create2">Create2</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/app/CrowdFund">Crowd Fund</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/app/DutchAuction">Dutch Auction</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/app/EnglishAuction">English Auction</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/app/Erc20">ERC20</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/app/Erc721">ERC721</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/app/EtherWallet">Ether Wallet</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/app/IterableMapping">Iterable Mapping</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/app/MerkleTree">Merkle Tree</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/app/MinimalProxy">Minimal Proxy Contract</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/app/MultiDelegatecall">Multi Delegatecall</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/app/Muticall">Multi Call</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/app/MutiSignWallet">Multi-Sig Wallet</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/app/Proxy">Proxy</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/app/Slot">Slot</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/app/UniDirectionalPaymentChannel">Uni-Directional Payment Channel</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/app/UpgradeableProxy">Upgradeable Proxy</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Defi</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/defi/Chainlink">Chainlink Price Oracle</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/defi/CPAMM">Constant Product AMM</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/defi/CSamm">Constant Sum AMM</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/defi/Liquidity">Uniswap V2 Add Remove Liquidity</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/defi/Optimal">Uniswap V2 Optimal One Sided Supply</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/defi/StakingRewards">Staking Rewards</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/defi/Swap">Uniswap V2 Swap</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Practice</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/practice/PiggyBank">PiggyBank</a></li></ul></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/AbiDecode">ABI Decode</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/AccountFactory">AccountFactory</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Array">Array</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/BlockTimesatmp">Block Timestamp Manipulation</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Call">Call</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/CallingContract">Calling Other Contract</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Constants">Constants</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Constructor">Constructor</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/ContractSize">Bypass Contract Size Check</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Counter">First Application</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/DataLocations">Data Locations - Storage, Memory and Calldata</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Delegatecall">Delegatecall</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/DelegateCallAtack">DelegatecallAttack</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/DenialOfSevice">Denial of Service</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Echidna">Echidna</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Enum">Enum</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Error">Error</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/EtherUnits">Ether and Wei</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Events">Events</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/ExternalContract">Hiding Malicious Code with External Contract</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Fallback">Fallback</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/FrontRunning">Front Running</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Function">Function</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/FunctionModifier">Function Modifier</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/FunctionSelector">Function Selector</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Gas">Gas</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Hash">Hash</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Helloworld">Hello World</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/HoneyPot">Honeypot</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/IfElse">If / Else</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Immutable">Immutable</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Import">Import</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Inheritance">Inheritance</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Interface">Interface</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Keccak256">Hashing with Keccak256</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Kill">Kill</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Library">Library</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Loop">For and While Loop</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Mapping">Mapping</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/NewContract">Contract that Creates other Contracts</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/NFTMultiMint">科学家NFT批量抢购</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Overflow">Arithmetic Overflow and Underflow</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Payable">Payable</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Primitives">Primitive Data Types</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Randomness">Source of Randomness</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/ReEntrancy">Re-Entrancy</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/SelfDestruct">Self Destruct</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/SendingEther">Sending Ether (transfer, send, call)</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Shadow">Shadowing Inherited State Variables</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Signature">Verifying Signature</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/SignatureReplay">Signature Replay</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/SimpleStorage">Reading and Writing to a State Variable</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Structs">Structs</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Super">Calling Parent Contracts</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/TryCatch">Try Catch</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/TxOrigin">Phishing with tx.origin</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Variables">Variables</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Vault">Accessing Private Data</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/ViewAndPureFunctions">View and Pure Functions</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/example/Visibility">Visibility</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Projects</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rooctblog/docs/projects/BabyToken">BabyToken</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/projects/Five">Five</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/projects/MasterChef">MasterChef</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/projects/SushiBar">SushiBar</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist" href="#">Utils</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/rooctblog/docs/utils/Verify">Solidity签名验证</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="theme-doc-markdown markdown"><header><h1>BabyToken</h1></header><p><strong>特点</strong></p><blockquote><p>交易分红<br>
邀请分红<br>
lp分红<br>
自动添加流动池  </p></blockquote><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> *Submitted for verification at BscScan.com on 2022-02-21</span></span><span class="token-line" style="color:#393A34"><span class="token plain">*/</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// SPDX-License-Identifier: MIT</span></span><span class="token-line" style="color:#393A34"><span class="token plain">pragma solidity ^0.8.0;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">abstract contract Context {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function _msgSender() internal view virtual returns (address) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return msg.sender;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function _msgData() internal view virtual returns (bytes calldata) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return msg.data;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">abstract contract Ownable is Context {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    address private _owner;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    constructor() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _transferOwnership(_msgSender());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function owner() public view virtual returns (address) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return _owner;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    modifier onlyOwner() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(owner() == _msgSender(), &quot;Ownable: caller is not the owner&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function renounceOwnership() public virtual onlyOwner {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _transferOwnership(address(0));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function transferOwnership(address newOwner) public virtual onlyOwner {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(newOwner != address(0), &quot;Ownable: new owner is the zero address&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _transferOwnership(newOwner);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function getTime() public view returns (uint256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return block.timestamp;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function _transferOwnership(address newOwner) internal virtual {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address oldOwner = _owner;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _owner = newOwner;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        emit OwnershipTransferred(oldOwner, newOwner);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">abstract contract Initializable {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Indicates that the contract has been initialized.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    bool private _initialized;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Indicates that the contract is in the process of being initialized.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    bool private _initializing;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Modifier to protect an initializer function from being invoked twice.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    modifier initializer() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(_initializing || !_initialized, &quot;Initializable: contract is already initialized&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        bool isTopLevelCall = !_initializing;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (isTopLevelCall) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            _initializing = true;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            _initialized = true;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (isTopLevelCall) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            _initializing = false;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">abstract contract ContextUpgradeable is Initializable {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function __Context_init() internal initializer {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        __Context_init_unchained();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function __Context_init_unchained() internal initializer {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function _msgSender() internal view virtual returns (address) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return msg.sender;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function _msgData() internal view virtual returns (bytes calldata) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return msg.data;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256[50] private __gap;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">abstract contract OwnableUpgradeable is Initializable, ContextUpgradeable {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    address private _owner;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Initializes the contract setting the deployer as the initial owner.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function __Ownable_init() internal initializer {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        __Context_init_unchained();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        __Ownable_init_unchained();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function __Ownable_init_unchained() internal initializer {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _setOwner(_msgSender());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Returns the address of the current owner.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function owner() public view virtual returns (address) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return _owner;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Throws if called by any account other than the owner.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    modifier onlyOwner() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(owner() == _msgSender(), &quot;Ownable: caller is not the owner&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Leaves the contract without owner. It will not be possible to call</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * `onlyOwner` functions anymore. Can only be called by the current owner.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * NOTE: Renouncing ownership will leave the contract without an owner,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * thereby removing any functionality that is only available to the owner.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function renounceOwnership() public virtual onlyOwner {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _setOwner(address(0));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Transfers ownership of the contract to a new account (`newOwner`).</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Can only be called by the current owner.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function transferOwnership(address newOwner) public virtual onlyOwner {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(newOwner != address(0), &quot;Ownable: new owner is the zero address&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _setOwner(newOwner);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function _setOwner(address newOwner) private {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address oldOwner = _owner;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _owner = newOwner;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        emit OwnershipTransferred(oldOwner, newOwner);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256[49] private __gap;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">interface IERC20 {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function totalSupply() external view returns (uint256);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function balanceOf(address account) external view returns (uint256);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function transfer(address recipient, uint256 amount) external returns (bool);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function allowance(address owner, address spender) external view returns (uint256);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function approve(address spender, uint256 amount) external returns (bool);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function transferFrom(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address sender,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address recipient,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 amount</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) external returns (bool);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event Transfer(address indexed from, address indexed to, uint256 value);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event Approval(address indexed owner, address indexed spender, uint256 value);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">interface IERC20Metadata is IERC20 {</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function name() external view returns (string memory);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function symbol() external view returns (string memory);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function decimals() external view returns (uint8);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">library SafeMath {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function add(uint256 a, uint256 b) internal pure returns (uint256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 c = a + b;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(c &gt;= a, &quot;SafeMath: addition overflow&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return c;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function sub(uint256 a, uint256 b) internal pure returns (uint256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return sub(a, b, &quot;SafeMath: subtraction overflow&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function sub(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(b &lt;= a, errorMessage);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 c = a - b;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return c;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function mul(uint256 a, uint256 b) internal pure returns (uint256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Gas optimization: this is cheaper than requiring &#x27;a&#x27; not being zero, but the</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // benefit is lost if &#x27;b&#x27; is also tested.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // See: https://github.com/OpenZeppelin/openzeppelin-contracts/pull/522</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (a == 0) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            return 0;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 c = a * b;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(c / a == b, &quot;SafeMath: multiplication overflow&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return c;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function div(uint256 a, uint256 b) internal pure returns (uint256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return div(a, b, &quot;SafeMath: division by zero&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function div(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(b &gt; 0, errorMessage);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 c = a / b;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // assert(a == b * c + a % b); // There is no case in which this doesn&#x27;t hold</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return c;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function mod(uint256 a, uint256 b) internal pure returns (uint256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return mod(a, b, &quot;SafeMath: modulo by zero&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function mod(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(b != 0, errorMessage);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return a % b;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">library SafeMathInt {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    int256 private constant MIN_INT256 = int256(1) &lt;&lt; 255;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    int256 private constant MAX_INT256 = ~(int256(1) &lt;&lt; 255);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Multiplies two int256 variables and fails on overflow.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function mul(int256 a, int256 b) internal pure returns (int256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        int256 c = a * b;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Detect overflow when multiplying MIN_INT256 with -1</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(c != MIN_INT256 || (a &amp; MIN_INT256) != (b &amp; MIN_INT256));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require((b == 0) || (c / b == a));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return c;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Division of two int256 variables and fails on overflow.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function div(int256 a, int256 b) internal pure returns (int256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Prevent overflow when dividing MIN_INT256 by -1</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(b != -1 || a != MIN_INT256);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Solidity already throws when dividing by 0.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return a / b;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Subtracts two int256 variables and fails on overflow.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function sub(int256 a, int256 b) internal pure returns (int256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        int256 c = a - b;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require((b &gt;= 0 &amp;&amp; c &lt;= a) || (b &lt; 0 &amp;&amp; c &gt; a));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return c;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Adds two int256 variables and fails on overflow.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function add(int256 a, int256 b) internal pure returns (int256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        int256 c = a + b;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require((b &gt;= 0 &amp;&amp; c &gt;= a) || (b &lt; 0 &amp;&amp; c &lt; a));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return c;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Converts to absolute value, and fails on overflow.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function abs(int256 a) internal pure returns (int256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(a != MIN_INT256);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return a &lt; 0 ? -a : a;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function toUint256Safe(int256 a) internal pure returns (uint256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(a &gt;= 0);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return uint256(a);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">library SafeMathUint {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  function toInt256Safe(uint256 a) internal pure returns (int256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    int256 b = int256(a);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    require(b &gt;= 0);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return b;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">library Clones {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Deploys and returns the address of a clone that mimics the behaviour of `implementation`.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * This function uses the create opcode, which should never revert.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function clone(address implementation) internal returns (address instance) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        assembly {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            let ptr := mload(0x40)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            mstore(ptr, 0x3d602d80600a3d3981f3363d3d373d3d3d363d73000000000000000000000000)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            mstore(add(ptr, 0x14), shl(0x60, implementation))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            mstore(add(ptr, 0x28), 0x5af43d82803e903d91602b57fd5bf30000000000000000000000000000000000)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            instance := create(0, ptr, 0x37)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(instance != address(0), &quot;ERC1167: create failed&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Deploys and returns the address of a clone that mimics the behaviour of `implementation`.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * This function uses the create2 opcode and a `salt` to deterministically deploy</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * the clone. Using the same `implementation` and `salt` multiple time will revert, since</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * the clones cannot be deployed twice at the same address.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function cloneDeterministic(address implementation, bytes32 salt) internal returns (address instance) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        assembly {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            let ptr := mload(0x40)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            mstore(ptr, 0x3d602d80600a3d3981f3363d3d373d3d3d363d73000000000000000000000000)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            mstore(add(ptr, 0x14), shl(0x60, implementation))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            mstore(add(ptr, 0x28), 0x5af43d82803e903d91602b57fd5bf30000000000000000000000000000000000)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            instance := create2(0, ptr, 0x37, salt)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(instance != address(0), &quot;ERC1167: create2 failed&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Computes the address of a clone deployed using {Clones-cloneDeterministic}.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function predictDeterministicAddress(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address implementation,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        bytes32 salt,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address deployer</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) internal pure returns (address predicted) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        assembly {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            let ptr := mload(0x40)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            mstore(ptr, 0x3d602d80600a3d3981f3363d3d373d3d3d363d73000000000000000000000000)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            mstore(add(ptr, 0x14), shl(0x60, implementation))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            mstore(add(ptr, 0x28), 0x5af43d82803e903d91602b57fd5bf3ff00000000000000000000000000000000)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            mstore(add(ptr, 0x38), shl(0x60, deployer))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            mstore(add(ptr, 0x4c), salt)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            mstore(add(ptr, 0x6c), keccak256(ptr, 0x37))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            predicted := keccak256(add(ptr, 0x37), 0x55)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Computes the address of a clone deployed using {Clones-cloneDeterministic}.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function predictDeterministicAddress(address implementation, bytes32 salt)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        internal</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        view</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        returns (address predicted)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return predictDeterministicAddress(implementation, salt, address(this));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">contract ERC20 is Context, IERC20, IERC20Metadata {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    using SafeMath for uint256;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    mapping(address =&gt; uint256) private _balances;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    mapping(address =&gt; mapping(address =&gt; uint256)) private _allowances;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 private _totalSupply;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    string private _name;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    string private _symbol;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Sets the values for {name} and {symbol}.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * The default value of {decimals} is 18. To select a different value for</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * {decimals} you should overload it.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * All two of these values are immutable: they can only be set once during</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * construction.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    constructor(string memory name_, string memory symbol_) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _name = name_;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _symbol = symbol_;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Returns the name of the token.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function name() public view virtual override returns (string memory) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return _name;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Returns the symbol of the token, usually a shorter version of the</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * name.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function symbol() public view virtual override returns (string memory) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return _symbol;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Returns the number of decimals used to get its user representation.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * For example, if `decimals` equals `2`, a balance of `505` tokens should</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * be displayed to a user as `5,05` (`505 / 10 ** 2`).</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Tokens usually opt for a value of 18, imitating the relationship between</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Ether and Wei. This is the value {ERC20} uses, unless this function is</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * overridden;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * NOTE: This information is only used for _display_ purposes: it in</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * no way affects any of the arithmetic of the contract, including</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * {IERC20-balanceOf} and {IERC20-transfer}.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function decimals() public view virtual override returns (uint8) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return 18;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev See {IERC20-totalSupply}.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function totalSupply() public view virtual override returns (uint256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return _totalSupply;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev See {IERC20-balanceOf}.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function balanceOf(address account) public view virtual override returns (uint256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return _balances[account];</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev See {IERC20-transfer}.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Requirements:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `recipient` cannot be the zero address.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - the caller must have a balance of at least `amount`.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function transfer(address recipient, uint256 amount) public virtual override returns (bool) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _transfer(_msgSender(), recipient, amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return true;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev See {IERC20-allowance}.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function allowance(address owner, address spender) public view virtual override returns (uint256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return _allowances[owner][spender];</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev See {IERC20-approve}.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Requirements:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `spender` cannot be the zero address.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function approve(address spender, uint256 amount) public virtual override returns (bool) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _approve(_msgSender(), spender, amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return true;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev See {IERC20-transferFrom}.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Emits an {Approval} event indicating the updated allowance. This is not</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * required by the EIP. See the note at the beginning of {ERC20}.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Requirements:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `sender` and `recipient` cannot be the zero address.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `sender` must have a balance of at least `amount`.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - the caller must have allowance for ``sender``&#x27;s tokens of at least</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * `amount`.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function transferFrom(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address sender,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address recipient,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 amount</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) public virtual override returns (bool) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _transfer(sender, recipient, amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _approve(sender, _msgSender(), _allowances[sender][_msgSender()].sub(amount, &quot;ERC20: transfer amount exceeds allowance&quot;));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return true;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Atomically increases the allowance granted to `spender` by the caller.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * This is an alternative to {approve} that can be used as a mitigation for</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * problems described in {IERC20-approve}.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Emits an {Approval} event indicating the updated allowance.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Requirements:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `spender` cannot be the zero address.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function increaseAllowance(address spender, uint256 addedValue) public virtual returns (bool) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _approve(_msgSender(), spender, _allowances[_msgSender()][spender].add(addedValue));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return true;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Atomically decreases the allowance granted to `spender` by the caller.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * This is an alternative to {approve} that can be used as a mitigation for</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * problems described in {IERC20-approve}.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Emits an {Approval} event indicating the updated allowance.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Requirements:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `spender` cannot be the zero address.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `spender` must have allowance for the caller of at least</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * `subtractedValue`.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function decreaseAllowance(address spender, uint256 subtractedValue) public virtual returns (bool) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _approve(_msgSender(), spender, _allowances[_msgSender()][spender].sub(subtractedValue, &quot;ERC20: decreased allowance below zero&quot;));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return true;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Moves tokens `amount` from `sender` to `recipient`.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * This is internal function is equivalent to {transfer}, and can be used to</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * e.g. implement automatic token fees, slashing mechanisms, etc.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Emits a {Transfer} event.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Requirements:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `sender` cannot be the zero address.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `recipient` cannot be the zero address.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `sender` must have a balance of at least `amount`.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function _transfer(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address sender,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address recipient,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 amount</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) internal virtual {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(sender != address(0), &quot;ERC20: transfer from the zero address&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(recipient != address(0), &quot;ERC20: transfer to the zero address&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _beforeTokenTransfer(sender, recipient, amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _balances[sender] = _balances[sender].sub(amount, &quot;ERC20: transfer amount exceeds balance&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _balances[recipient] = _balances[recipient].add(amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        emit Transfer(sender, recipient, amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /** @dev Creates `amount` tokens and assigns them to `account`, increasing</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * the total supply.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Emits a {Transfer} event with `from` set to the zero address.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Requirements:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `account` cannot be the zero address.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function _mint(address account, uint256 amount) internal virtual {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(account != address(0), &quot;ERC20: mint to the zero address&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _beforeTokenTransfer(address(0), account, amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _totalSupply = _totalSupply.add(amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _balances[account] = _balances[account].add(amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        emit Transfer(address(0), account, amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Destroys `amount` tokens from `account`, reducing the</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * total supply.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Emits a {Transfer} event with `to` set to the zero address.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Requirements:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `account` cannot be the zero address.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `account` must have at least `amount` tokens.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function _burn(address account, uint256 amount) internal virtual {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(account != address(0), &quot;ERC20: burn from the zero address&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _beforeTokenTransfer(account, address(0), amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _balances[account] = _balances[account].sub(amount, &quot;ERC20: burn amount exceeds balance&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _totalSupply = _totalSupply.sub(amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        emit Transfer(account, address(0), amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Sets `amount` as the allowance of `spender` over the `owner` s tokens.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * This internal function is equivalent to `approve`, and can be used to</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * e.g. set automatic allowances for certain subsystems, etc.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Emits an {Approval} event.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Requirements:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `owner` cannot be the zero address.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `spender` cannot be the zero address.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function _approve(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address owner,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address spender,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 amount</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) internal virtual {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(owner != address(0), &quot;ERC20: approve from the zero address&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(spender != address(0), &quot;ERC20: approve to the zero address&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _allowances[owner][spender] = amount;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        emit Approval(owner, spender, amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Hook that is called before any transfer of tokens. This includes</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * minting and burning.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Calling conditions:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - when `from` and `to` are both non-zero, `amount` of ``from``&#x27;s tokens</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * will be to transferred to `to`.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - when `from` is zero, `amount` tokens will be minted for `to`.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - when `to` is zero, `amount` of ``from``&#x27;s tokens will be burned.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `from` and `to` are never both zero.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * To learn more about hooks, head to xref:ROOT:extending-contracts.adoc#using-hooks[Using Hooks].</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function _beforeTokenTransfer(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address from,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address to,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 amount</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) internal virtual {}</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">interface IUniswapV2Router01 {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function factory() external pure returns (address);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function WETH() external pure returns (address);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function addLiquidity(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address tokenA,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address tokenB,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amountADesired,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amountBDesired,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amountAMin,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amountBMin,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address to,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint deadline</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) external returns (uint amountA, uint amountB, uint liquidity);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function addLiquidityETH(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address token,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amountTokenDesired,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amountTokenMin,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amountETHMin,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address to,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint deadline</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) external payable returns (uint amountToken, uint amountETH, uint liquidity);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function removeLiquidity(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address tokenA,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address tokenB,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint liquidity,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amountAMin,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amountBMin,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address to,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint deadline</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) external returns (uint amountA, uint amountB);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function removeLiquidityETH(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address token,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint liquidity,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amountTokenMin,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amountETHMin,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address to,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint deadline</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) external returns (uint amountToken, uint amountETH);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function removeLiquidityWithPermit(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address tokenA,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address tokenB,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint liquidity,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amountAMin,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amountBMin,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address to,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint deadline,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        bool approveMax, uint8 v, bytes32 r, bytes32 s</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) external returns (uint amountA, uint amountB);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function removeLiquidityETHWithPermit(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address token,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint liquidity,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amountTokenMin,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amountETHMin,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address to,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint deadline,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        bool approveMax, uint8 v, bytes32 r, bytes32 s</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) external returns (uint amountToken, uint amountETH);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function swapExactTokensForTokens(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amountIn,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amountOutMin,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address[] calldata path,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address to,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint deadline</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) external returns (uint[] memory amounts);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function swapTokensForExactTokens(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amountOut,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amountInMax,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address[] calldata path,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address to,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint deadline</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) external returns (uint[] memory amounts);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function swapExactETHForTokens(uint amountOutMin, address[] calldata path, address to, uint deadline)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        external</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        payable</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        returns (uint[] memory amounts);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function swapTokensForExactETH(uint amountOut, uint amountInMax, address[] calldata path, address to, uint deadline)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        external</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        returns (uint[] memory amounts);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function swapExactTokensForETH(uint amountIn, uint amountOutMin, address[] calldata path, address to, uint deadline)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        external</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        returns (uint[] memory amounts);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function swapETHForExactTokens(uint amountOut, address[] calldata path, address to, uint deadline)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        external</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        payable</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        returns (uint[] memory amounts);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function quote(uint amountA, uint reserveA, uint reserveB) external pure returns (uint amountB);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function getAmountOut(uint amountIn, uint reserveIn, uint reserveOut) external pure returns (uint amountOut);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function getAmountIn(uint amountOut, uint reserveIn, uint reserveOut) external pure returns (uint amountIn);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function getAmountsOut(uint amountIn, address[] calldata path) external view returns (uint[] memory amounts);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function getAmountsIn(uint amountOut, address[] calldata path) external view returns (uint[] memory amounts);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">interface IUniswapV2Router02 is IUniswapV2Router01 {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function removeLiquidityETHSupportingFeeOnTransferTokens(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address token,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint liquidity,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amountTokenMin,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amountETHMin,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address to,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint deadline</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) external returns (uint amountETH);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function removeLiquidityETHWithPermitSupportingFeeOnTransferTokens(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address token,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint liquidity,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amountTokenMin,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amountETHMin,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address to,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint deadline,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        bool approveMax, uint8 v, bytes32 r, bytes32 s</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) external returns (uint amountETH);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function swapExactTokensForTokensSupportingFeeOnTransferTokens(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amountIn,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amountOutMin,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address[] calldata path,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address to,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint deadline</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) external;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function swapExactETHForTokensSupportingFeeOnTransferTokens(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amountOutMin,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address[] calldata path,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address to,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint deadline</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) external payable;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function swapExactTokensForETHSupportingFeeOnTransferTokens(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amountIn,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amountOutMin,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address[] calldata path,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address to,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint deadline</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) external;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">interface IUniswapV2Factory {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event PairCreated(address indexed token0, address indexed token1, address pair, uint);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function feeTo() external view returns (address);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function feeToSetter() external view returns (address);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function getPair(address tokenA, address tokenB) external view returns (address pair);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function allPairs(uint) external view returns (address pair);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function allPairsLength() external view returns (uint);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function createPair(address tokenA, address tokenB) external returns (address pair);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function setFeeTo(address) external;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function setFeeToSetter(address) external;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">interface IUniswapV2Pair {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event Approval(address indexed owner, address indexed spender, uint value);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event Transfer(address indexed from, address indexed to, uint value);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function name() external pure returns (string memory);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function symbol() external pure returns (string memory);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function decimals() external pure returns (uint8);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function totalSupply() external view returns (uint);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function balanceOf(address owner) external view returns (uint);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function allowance(address owner, address spender) external view returns (uint);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function approve(address spender, uint value) external returns (bool);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function transfer(address to, uint value) external returns (bool);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function transferFrom(address from, address to, uint value) external returns (bool);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function DOMAIN_SEPARATOR() external view returns (bytes32);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function PERMIT_TYPEHASH() external pure returns (bytes32);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function nonces(address owner) external view returns (uint);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function permit(address owner, address spender, uint value, uint deadline, uint8 v, bytes32 r, bytes32 s) external;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event Mint(address indexed sender, uint amount0, uint amount1);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event Burn(address indexed sender, uint amount0, uint amount1, address indexed to);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event Swap(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address indexed sender,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amount0In,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amount1In,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amount0Out,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint amount1Out,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address indexed to</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event Sync(uint112 reserve0, uint112 reserve1);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function MINIMUM_LIQUIDITY() external pure returns (uint);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function factory() external view returns (address);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function token0() external view returns (address);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function token1() external view returns (address);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function getReserves() external view returns (uint112 reserve0, uint112 reserve1, uint32 blockTimestampLast);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function price0CumulativeLast() external view returns (uint);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function price1CumulativeLast() external view returns (uint);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function kLast() external view returns (uint);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function mint(address to) external returns (uint liquidity);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function burn(address to) external returns (uint amount0, uint amount1);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function swap(uint amount0Out, uint amount1Out, address to, bytes calldata data) external;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function skim(address to) external;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function sync() external;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function initialize(address, address) external;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">library IterableMapping {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Iterable mapping from address to uint;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    struct Map {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address[] keys;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        mapping(address =&gt; uint256) values;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        mapping(address =&gt; uint256) indexOf;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        mapping(address =&gt; bool) inserted;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function get(Map storage map, address key) public view returns (uint256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return map.values[key];</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function getIndexOfKey(Map storage map, address key)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    view</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    returns (int256)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (!map.inserted[key]) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            return -1;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return int256(map.indexOf[key]);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function getKeyAtIndex(Map storage map, uint256 index)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    view</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    returns (address)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return map.keys[index];</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function size(Map storage map) public view returns (uint256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return map.keys.length;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function set(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Map storage map,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address key,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 val</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) public {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (map.inserted[key]) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            map.values[key] = val;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            map.inserted[key] = true;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            map.values[key] = val;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            map.indexOf[key] = map.keys.length;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            map.keys.push(key);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function remove(Map storage map, address key) public {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (!map.inserted[key]) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            return;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        delete map.inserted[key];</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        delete map.values[key];</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 index = map.indexOf[key];</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 lastIndex = map.keys.length - 1;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address lastKey = map.keys[lastIndex];</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        map.indexOf[lastKey] = index;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        delete map.indexOf[key];</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        map.keys[index] = lastKey;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        map.keys.pop();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">/// @title Dividend-Paying Token Interface</span></span><span class="token-line" style="color:#393A34"><span class="token plain">/// @author Roger Wu (https://github.com/roger-wu)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">/// @dev An interface for a dividend-paying token contract.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">interface DividendPayingTokenInterface {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @notice View the amount of dividend in wei that an address can withdraw.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param _owner The address of a token holder.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @return The amount of dividend in wei that `_owner` can withdraw.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function dividendOf(address _owner) external view returns (uint256);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @notice Withdraws the ether distributed to the sender.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @dev SHOULD transfer `dividendOf(msg.sender)` wei to `msg.sender`, and `dividendOf(msg.sender)` SHOULD be 0 after the transfer.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ///  MUST emit a `DividendWithdrawn` event if the amount of ether transferred is greater than 0.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function withdrawDividend() external;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @dev This event MUST emit when ether is distributed to token holders.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param from The address which sends ether to this contract.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param weiAmount The amount of distributed ether in wei.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event DividendsDistributed(address indexed from, uint256 weiAmount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @dev This event MUST emit when an address withdraws their dividend.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param to The address which withdraws ether from this contract.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param weiAmount The amount of withdrawn ether in wei.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event DividendWithdrawn(address indexed to, uint256 weiAmount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">/// @title Dividend-Paying Token Optional Interface</span></span><span class="token-line" style="color:#393A34"><span class="token plain">/// @author Roger Wu (https://github.com/roger-wu)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">/// @dev OPTIONAL functions for a dividend-paying token contract.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">interface DividendPayingTokenOptionalInterface {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @notice View the amount of dividend in wei that an address can withdraw.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param _owner The address of a token holder.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @return The amount of dividend in wei that `_owner` can withdraw.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function withdrawableDividendOf(address _owner)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    external</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    view</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    returns (uint256);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @notice View the amount of dividend in wei that an address has withdrawn.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param _owner The address of a token holder.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @return The amount of dividend in wei that `_owner` has withdrawn.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function withdrawnDividendOf(address _owner)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    external</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    view</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    returns (uint256);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @notice View the amount of dividend in wei that an address has earned in total.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @dev accumulativeDividendOf(_owner) = withdrawableDividendOf(_owner) + withdrawnDividendOf(_owner)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param _owner The address of a token holder.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @return The amount of dividend in wei that `_owner` has earned in total.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function accumulativeDividendOf(address _owner)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    external</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    view</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    returns (uint256);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">interface IERC20Upgradeable {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Returns the amount of tokens in existence.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function totalSupply() external view returns (uint256);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Returns the amount of tokens owned by `account`.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function balanceOf(address account) external view returns (uint256);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Moves `amount` tokens from the caller&#x27;s account to `recipient`.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Returns a boolean value indicating whether the operation succeeded.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Emits a {Transfer} event.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function transfer(address recipient, uint256 amount) external returns (bool);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Returns the remaining number of tokens that `spender` will be</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * allowed to spend on behalf of `owner` through {transferFrom}. This is</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * zero by default.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * This value changes when {approve} or {transferFrom} are called.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function allowance(address owner, address spender) external view returns (uint256);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Sets `amount` as the allowance of `spender` over the caller&#x27;s tokens.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Returns a boolean value indicating whether the operation succeeded.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * IMPORTANT: Beware that changing an allowance with this method brings the risk</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * that someone may use both the old and the new allowance by unfortunate</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * transaction ordering. One possible solution to mitigate this race</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * condition is to first reduce the spender&#x27;s allowance to 0 and set the</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * desired value afterwards:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Emits an {Approval} event.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function approve(address spender, uint256 amount) external returns (bool);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Moves `amount` tokens from `sender` to `recipient` using the</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * allowance mechanism. `amount` is then deducted from the caller&#x27;s</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * allowance.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Returns a boolean value indicating whether the operation succeeded.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Emits a {Transfer} event.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function transferFrom(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address sender,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address recipient,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 amount</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) external returns (bool);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Emitted when `value` tokens are moved from one account (`from`) to</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * another (`to`).</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Note that `value` may be zero.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event Transfer(address indexed from, address indexed to, uint256 value);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Emitted when the allowance of a `spender` for an `owner` is set by</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * a call to {approve}. `value` is the new allowance.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event Approval(address indexed owner, address indexed spender, uint256 value);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">interface IERC20MetadataUpgradeable is IERC20Upgradeable {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Returns the name of the token.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function name() external view returns (string memory);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Returns the symbol of the token.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function symbol() external view returns (string memory);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Returns the decimals places of the token.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function decimals() external view returns (uint8);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">contract ERC20Upgradeable is Initializable, ContextUpgradeable, IERC20Upgradeable, IERC20MetadataUpgradeable {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    mapping(address =&gt; uint256) private _balances;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    mapping(address =&gt; mapping(address =&gt; uint256)) private _allowances;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 private _totalSupply;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    string private _name;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    string private _symbol;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Sets the values for {name} and {symbol}.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * The default value of {decimals} is 18. To select a different value for</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * {decimals} you should overload it.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * All two of these values are immutable: they can only be set once during</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * construction.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function __ERC20_init(string memory name_, string memory symbol_) internal initializer {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        __Context_init_unchained();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        __ERC20_init_unchained(name_, symbol_);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function __ERC20_init_unchained(string memory name_, string memory symbol_) internal initializer {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _name = name_;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _symbol = symbol_;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Returns the name of the token.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function name() public view virtual override returns (string memory) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return _name;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Returns the symbol of the token, usually a shorter version of the</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * name.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function symbol() public view virtual override returns (string memory) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return _symbol;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Returns the number of decimals used to get its user representation.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * For example, if `decimals` equals `2`, a balance of `505` tokens should</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * be displayed to a user as `5.05` (`505 / 10 ** 2`).</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Tokens usually opt for a value of 18, imitating the relationship between</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Ether and Wei. This is the value {ERC20} uses, unless this function is</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * overridden;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * NOTE: This information is only used for _display_ purposes: it in</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * no way affects any of the arithmetic of the contract, including</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * {IERC20-balanceOf} and {IERC20-transfer}.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function decimals() public view virtual override returns (uint8) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return 18;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev See {IERC20-totalSupply}.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function totalSupply() public view virtual override returns (uint256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return _totalSupply;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev See {IERC20-balanceOf}.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function balanceOf(address account) public view virtual override returns (uint256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return _balances[account];</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev See {IERC20-transfer}.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Requirements:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `recipient` cannot be the zero address.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - the caller must have a balance of at least `amount`.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function transfer(address recipient, uint256 amount) public virtual override returns (bool) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _transfer(_msgSender(), recipient, amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return true;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev See {IERC20-allowance}.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function allowance(address owner, address spender) public view virtual override returns (uint256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return _allowances[owner][spender];</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev See {IERC20-approve}.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Requirements:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `spender` cannot be the zero address.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function approve(address spender, uint256 amount) public virtual override returns (bool) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _approve(_msgSender(), spender, amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return true;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev See {IERC20-transferFrom}.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Emits an {Approval} event indicating the updated allowance. This is not</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * required by the EIP. See the note at the beginning of {ERC20}.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Requirements:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `sender` and `recipient` cannot be the zero address.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `sender` must have a balance of at least `amount`.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - the caller must have allowance for ``sender``&#x27;s tokens of at least</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * `amount`.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function transferFrom(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address sender,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address recipient,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 amount</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) public virtual override returns (bool) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _transfer(sender, recipient, amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 currentAllowance = _allowances[sender][_msgSender()];</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(currentAllowance &gt;= amount, &quot;ERC20: transfer amount exceeds allowance&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        unchecked {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    _approve(sender, _msgSender(), currentAllowance - amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return true;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Atomically increases the allowance granted to `spender` by the caller.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * This is an alternative to {approve} that can be used as a mitigation for</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * problems described in {IERC20-approve}.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Emits an {Approval} event indicating the updated allowance.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Requirements:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `spender` cannot be the zero address.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function increaseAllowance(address spender, uint256 addedValue) public virtual returns (bool) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _approve(_msgSender(), spender, _allowances[_msgSender()][spender] + addedValue);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return true;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Atomically decreases the allowance granted to `spender` by the caller.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * This is an alternative to {approve} that can be used as a mitigation for</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * problems described in {IERC20-approve}.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Emits an {Approval} event indicating the updated allowance.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Requirements:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `spender` cannot be the zero address.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `spender` must have allowance for the caller of at least</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * `subtractedValue`.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function decreaseAllowance(address spender, uint256 subtractedValue) public virtual returns (bool) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 currentAllowance = _allowances[_msgSender()][spender];</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(currentAllowance &gt;= subtractedValue, &quot;ERC20: decreased allowance below zero&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        unchecked {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    _approve(_msgSender(), spender, currentAllowance - subtractedValue);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return true;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Moves `amount` of tokens from `sender` to `recipient`.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * This internal function is equivalent to {transfer}, and can be used to</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * e.g. implement automatic token fees, slashing mechanisms, etc.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Emits a {Transfer} event.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Requirements:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `sender` cannot be the zero address.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `recipient` cannot be the zero address.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `sender` must have a balance of at least `amount`.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function _transfer(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address sender,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address recipient,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 amount</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) internal virtual {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(sender != address(0), &quot;ERC20: transfer from the zero address&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(recipient != address(0), &quot;ERC20: transfer to the zero address&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _beforeTokenTransfer(sender, recipient, amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 senderBalance = _balances[sender];</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(senderBalance &gt;= amount, &quot;ERC20: transfer amount exceeds balance&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        unchecked {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    _balances[sender] = senderBalance - amount;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _balances[recipient] += amount;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        emit Transfer(sender, recipient, amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _afterTokenTransfer(sender, recipient, amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /** @dev Creates `amount` tokens and assigns them to `account`, increasing</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * the total supply.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Emits a {Transfer} event with `from` set to the zero address.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Requirements:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `account` cannot be the zero address.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function _mint(address account, uint256 amount) internal virtual {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(account != address(0), &quot;ERC20: mint to the zero address&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _beforeTokenTransfer(address(0), account, amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _totalSupply += amount;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _balances[account] += amount;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        emit Transfer(address(0), account, amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _afterTokenTransfer(address(0), account, amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Destroys `amount` tokens from `account`, reducing the</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * total supply.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Emits a {Transfer} event with `to` set to the zero address.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Requirements:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `account` cannot be the zero address.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `account` must have at least `amount` tokens.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function _burn(address account, uint256 amount) internal virtual {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(account != address(0), &quot;ERC20: burn from the zero address&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _beforeTokenTransfer(account, address(0), amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 accountBalance = _balances[account];</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(accountBalance &gt;= amount, &quot;ERC20: burn amount exceeds balance&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        unchecked {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    _balances[account] = accountBalance - amount;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _totalSupply -= amount;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        emit Transfer(account, address(0), amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _afterTokenTransfer(account, address(0), amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Sets `amount` as the allowance of `spender` over the `owner` s tokens.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * This internal function is equivalent to `approve`, and can be used to</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * e.g. set automatic allowances for certain subsystems, etc.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Emits an {Approval} event.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Requirements:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `owner` cannot be the zero address.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `spender` cannot be the zero address.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function _approve(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address owner,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address spender,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 amount</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) internal virtual {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(owner != address(0), &quot;ERC20: approve from the zero address&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(spender != address(0), &quot;ERC20: approve to the zero address&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _allowances[owner][spender] = amount;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        emit Approval(owner, spender, amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Hook that is called before any transfer of tokens. This includes</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * minting and burning.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Calling conditions:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - when `from` and `to` are both non-zero, `amount` of ``from``&#x27;s tokens</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * will be transferred to `to`.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - when `from` is zero, `amount` tokens will be minted for `to`.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - when `to` is zero, `amount` of ``from``&#x27;s tokens will be burned.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `from` and `to` are never both zero.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * To learn more about hooks, head to xref:ROOT:extending-contracts.adoc#using-hooks[Using Hooks].</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function _beforeTokenTransfer(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address from,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address to,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 amount</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) internal virtual {}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @dev Hook that is called after any transfer of tokens. This includes</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * minting and burning.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * Calling conditions:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - when `from` and `to` are both non-zero, `amount` of ``from``&#x27;s tokens</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * has been transferred to `to`.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - when `from` is zero, `amount` tokens have been minted for `to`.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - when `to` is zero, `amount` of ``from``&#x27;s tokens have been burned.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * - `from` and `to` are never both zero.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     * To learn more about hooks, head to xref:ROOT:extending-contracts.adoc#using-hooks[Using Hooks].</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function _afterTokenTransfer(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address from,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address to,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 amount</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) internal virtual {}</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256[45] private __gap;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">/// @title Dividend-Paying Token</span></span><span class="token-line" style="color:#393A34"><span class="token plain">/// @author Roger Wu (https://github.com/roger-wu)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">/// @dev A mintable ERC20 token that allows anyone to pay and distribute ether</span></span><span class="token-line" style="color:#393A34"><span class="token plain">///  to token holders as dividends and allows token holders to withdraw their dividends.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">///  Reference: the source code of PoWH3D: https://etherscan.io/address/0xB3775fB83F7D12A36E0475aBdD1FCA35c091efBe#code</span></span><span class="token-line" style="color:#393A34"><span class="token plain">contract DividendPayingToken is</span></span><span class="token-line" style="color:#393A34"><span class="token plain">ERC20Upgradeable,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">OwnableUpgradeable,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">DividendPayingTokenInterface,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">DividendPayingTokenOptionalInterface</span></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    using SafeMath for uint256;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    using SafeMathUint for uint256;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    using SafeMathInt for int256;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    address public rewardToken;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // With `magnitude`, we can properly distribute dividends even if the amount of received ether is small.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // For more discussion about choosing the value of `magnitude`,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    //  see https://github.com/ethereum/EIPs/issues/1726#issuecomment-472352728</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 internal constant magnitude = 2**128;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 internal magnifiedDividendPerShare;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // About dividendCorrection:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // If the token balance of a `_user` is never changed, the dividend of `_user` can be computed with:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    //   `dividendOf(_user) = dividendPerShare * balanceOf(_user)`.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // When `balanceOf(_user)` is changed (via minting/burning/transferring tokens),</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    //   `dividendOf(_user)` should not be changed,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    //   but the computed value of `dividendPerShare * balanceOf(_user)` is changed.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // To keep the `dividendOf(_user)` unchanged, we add a correction term:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    //   `dividendOf(_user) = dividendPerShare * balanceOf(_user) + dividendCorrectionOf(_user)`,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    //   where `dividendCorrectionOf(_user)` is updated whenever `balanceOf(_user)` is changed:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    //   `dividendCorrectionOf(_user) = dividendPerShare * (old balanceOf(_user)) - (new balanceOf(_user))`.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // So now `dividendOf(_user)` returns the same value before and after `balanceOf(_user)` is changed.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    mapping(address =&gt; int256) internal magnifiedDividendCorrections;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    mapping(address =&gt; uint256) internal withdrawnDividends;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 public totalDividendsDistributed;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function __DividendPayingToken_init(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address _rewardToken,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        string memory _name,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        string memory _symbol</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) internal initializer {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        __Ownable_init();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        __ERC20_init(_name, _symbol);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        rewardToken = _rewardToken;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function distributeCAKEDividends(uint256 amount) public onlyOwner {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(totalSupply() &gt; 0);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (amount &gt; 0) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            magnifiedDividendPerShare = magnifiedDividendPerShare.add(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                (amount).mul(magnitude) / totalSupply()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            emit DividendsDistributed(msg.sender, amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            totalDividendsDistributed = totalDividendsDistributed.add(amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @notice Withdraws the ether distributed to the sender.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @dev It emits a `DividendWithdrawn` event if the amount of withdrawn ether is greater than 0.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function withdrawDividend() public virtual override {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _withdrawDividendOfUser(payable(msg.sender));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @notice Withdraws the ether distributed to the sender.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @dev It emits a `DividendWithdrawn` event if the amount of withdrawn ether is greater than 0.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function _withdrawDividendOfUser(address payable user)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    internal</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    returns (uint256)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 _withdrawableDividend = withdrawableDividendOf(user);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (_withdrawableDividend &gt; 0) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            withdrawnDividends[user] = withdrawnDividends[user].add(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                _withdrawableDividend</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            emit DividendWithdrawn(user, _withdrawableDividend);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            bool success = IERC20(rewardToken).transfer(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                user,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                _withdrawableDividend</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            );</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (!success) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                withdrawnDividends[user] = withdrawnDividends[user].sub(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    _withdrawableDividend</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                return 0;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            return _withdrawableDividend;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return 0;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @notice View the amount of dividend in wei that an address can withdraw.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param _owner The address of a token holder.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @return The amount of dividend in wei that `_owner` can withdraw.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function dividendOf(address _owner) public view override returns (uint256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return withdrawableDividendOf(_owner);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @notice View the amount of dividend in wei that an address can withdraw.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param _owner The address of a token holder.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @return The amount of dividend in wei that `_owner` can withdraw.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function withdrawableDividendOf(address _owner)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    view</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    returns (uint256)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return accumulativeDividendOf(_owner).sub(withdrawnDividends[_owner]);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @notice View the amount of dividend in wei that an address has withdrawn.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param _owner The address of a token holder.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @return The amount of dividend in wei that `_owner` has withdrawn.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function withdrawnDividendOf(address _owner)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    view</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    returns (uint256)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return withdrawnDividends[_owner];</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @notice View the amount of dividend in wei that an address has earned in total.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @dev accumulativeDividendOf(_owner) = withdrawableDividendOf(_owner) + withdrawnDividendOf(_owner)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// = (magnifiedDividendPerShare * balanceOf(_owner) + magnifiedDividendCorrections[_owner]) / magnitude</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param _owner The address of a token holder.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @return The amount of dividend in wei that `_owner` has earned in total.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function accumulativeDividendOf(address _owner)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    view</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    override</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    returns (uint256)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        magnifiedDividendPerShare</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        .mul(balanceOf(_owner))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        .toInt256Safe()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        .add(magnifiedDividendCorrections[_owner])</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        .toUint256Safe() / magnitude;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @dev Internal function that transfer tokens from one address to another.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// Update magnifiedDividendCorrections to keep dividends unchanged.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param from The address to transfer from.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param to The address to transfer to.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param value The amount to be transferred.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function _transfer(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address from,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address to,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 value</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) internal virtual override {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(false);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        int256 _magCorrection = magnifiedDividendPerShare</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        .mul(value)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        .toInt256Safe();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        magnifiedDividendCorrections[from] = magnifiedDividendCorrections[from]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        .add(_magCorrection);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        magnifiedDividendCorrections[to] = magnifiedDividendCorrections[to].sub(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            _magCorrection</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @dev Internal function that mints tokens to an account.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// Update magnifiedDividendCorrections to keep dividends unchanged.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param account The account that will receive the created tokens.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param value The amount that will be created.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function _mint(address account, uint256 value) internal override {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        super._mint(account, value);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        magnifiedDividendCorrections[account] = magnifiedDividendCorrections[</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        account</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        ].sub((magnifiedDividendPerShare.mul(value)).toInt256Safe());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @dev Internal function that burns an amount of the token of a given account.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// Update magnifiedDividendCorrections to keep dividends unchanged.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param account The account whose tokens will be burnt.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param value The amount that will be burnt.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function _burn(address account, uint256 value) internal override {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        super._burn(account, value);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        magnifiedDividendCorrections[account] = magnifiedDividendCorrections[</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        account</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        ].add((magnifiedDividendPerShare.mul(value)).toInt256Safe());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function _setBalance(address account, uint256 newBalance) internal {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 currentBalance = balanceOf(account);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (newBalance &gt; currentBalance) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            uint256 mintAmount = newBalance.sub(currentBalance);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            _mint(account, mintAmount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        } else if (newBalance &lt; currentBalance) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            uint256 burnAmount = currentBalance.sub(newBalance);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            _burn(account, burnAmount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">contract BABYTOKENDividendTracker is OwnableUpgradeable, DividendPayingToken {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    using SafeMath for uint256;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    using SafeMathInt for int256;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    using IterableMapping for IterableMapping.Map;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    IterableMapping.Map private tokenHoldersMap;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 public lastProcessedIndex;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    mapping(address =&gt; bool) public excludedFromDividends;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    mapping(address =&gt; uint256) public lastClaimTimes;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 public claimWait;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 public minimumTokenBalanceForDividends;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event ExcludeFromDividends(address indexed account);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event ClaimWaitUpdated(uint256 indexed newValue, uint256 indexed oldValue);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event Claim(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address indexed account,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 amount,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        bool indexed automatic</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    );</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function initialize(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address rewardToken_,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 minimumTokenBalanceForDividends_</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) external initializer {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        DividendPayingToken.__DividendPayingToken_init(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            rewardToken_,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;DIVIDEND_TRACKER&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;DIVIDEND_TRACKER&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        claimWait = 3600;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        minimumTokenBalanceForDividends = minimumTokenBalanceForDividends_;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function _transfer(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) internal pure override {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(false, &quot;Dividend_Tracker: No transfers allowed&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function withdrawDividend() public pure override {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            false,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;Dividend_Tracker: withdrawDividend disabled. Use the &#x27;claim&#x27; function on the main BABYTOKEN contract.&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function excludeFromDividends(address account) external onlyOwner {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(!excludedFromDividends[account]);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        excludedFromDividends[account] = true;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _setBalance(account, 0);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        tokenHoldersMap.remove(account);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        emit ExcludeFromDividends(account);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function isExcludedFromDividends(address account)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    view</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    returns (bool)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return excludedFromDividends[account];</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function updateClaimWait(uint256 newClaimWait) external onlyOwner {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            newClaimWait &gt;= 3600 &amp;&amp; newClaimWait &lt;= 86400,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;Dividend_Tracker: claimWait must be updated to between 1 and 24 hours&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            newClaimWait != claimWait,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;Dividend_Tracker: Cannot update claimWait to same value&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        emit ClaimWaitUpdated(newClaimWait, claimWait);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        claimWait = newClaimWait;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function updateMinimumTokenBalanceForDividends(uint256 amount)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    external</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    onlyOwner</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        minimumTokenBalanceForDividends = amount;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function getLastProcessedIndex() external view returns (uint256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return lastProcessedIndex;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function getNumberOfTokenHolders() external view returns (uint256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return tokenHoldersMap.keys.length;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function getAccount(address _account)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    view</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    returns (</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address account,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        int256 index,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        int256 iterationsUntilProcessed,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 withdrawableDividends,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 totalDividends,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 lastClaimTime,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 nextClaimTime,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 secondsUntilAutoClaimAvailable</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        account = _account;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        index = tokenHoldersMap.getIndexOfKey(account);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        iterationsUntilProcessed = -1;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (index &gt;= 0) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (uint256(index) &gt; lastProcessedIndex) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                iterationsUntilProcessed = index.sub(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    int256(lastProcessedIndex)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                uint256 processesUntilEndOfArray = tokenHoldersMap.keys.length &gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                lastProcessedIndex</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                ? tokenHoldersMap.keys.length.sub(lastProcessedIndex)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                : 0;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                iterationsUntilProcessed = index.add(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    int256(processesUntilEndOfArray)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        withdrawableDividends = withdrawableDividendOf(account);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        totalDividends = accumulativeDividendOf(account);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        lastClaimTime = lastClaimTimes[account];</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        nextClaimTime = lastClaimTime &gt; 0 ? lastClaimTime.add(claimWait) : 0;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        secondsUntilAutoClaimAvailable = nextClaimTime &gt; block.timestamp</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        ? nextClaimTime.sub(block.timestamp)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        : 0;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function getAccountAtIndex(uint256 index)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    view</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    returns (</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        int256,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        int256,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (index &gt;= tokenHoldersMap.size()) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            return (address(0), -1, -1, 0, 0, 0, 0, 0);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address account = tokenHoldersMap.getKeyAtIndex(index);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return getAccount(account);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function canAutoClaim(uint256 lastClaimTime) private view returns (bool) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (lastClaimTime &gt; block.timestamp) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            return false;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return block.timestamp.sub(lastClaimTime) &gt;= claimWait;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function setBalance(address payable account, uint256 newBalance)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    external</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    onlyOwner</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (excludedFromDividends[account]) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            return;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (newBalance &gt;= minimumTokenBalanceForDividends) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            _setBalance(account, newBalance);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            tokenHoldersMap.set(account, newBalance);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            _setBalance(account, 0);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            tokenHoldersMap.remove(account);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        processAccount(account, true);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function process(uint256 gas)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    returns (</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 numberOfTokenHolders = tokenHoldersMap.keys.length;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (numberOfTokenHolders == 0) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            return (0, 0, lastProcessedIndex);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 _lastProcessedIndex = lastProcessedIndex;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 gasUsed = 0;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 gasLeft = gasleft();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 iterations = 0;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 claims = 0;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        while (gasUsed &lt; gas &amp;&amp; iterations &lt; numberOfTokenHolders) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            _lastProcessedIndex++;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (_lastProcessedIndex &gt;= tokenHoldersMap.keys.length) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                _lastProcessedIndex = 0;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            address account = tokenHoldersMap.keys[_lastProcessedIndex];</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (canAutoClaim(lastClaimTimes[account])) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (processAccount(payable(account), true)) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    claims++;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            iterations++;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            uint256 newGasLeft = gasleft();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (gasLeft &gt; newGasLeft) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                gasUsed = gasUsed.add(gasLeft.sub(newGasLeft));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            gasLeft = newGasLeft;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        lastProcessedIndex = _lastProcessedIndex;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return (iterations, claims, lastProcessedIndex);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function processAccount(address payable account, bool automatic) public onlyOwner returns (bool) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 amount = _withdrawDividendOfUser(account);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (amount &gt; 0) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            lastClaimTimes[account] = block.timestamp;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            emit Claim(account, amount, automatic);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            return true;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return false;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">contract BABYTOKEN is ERC20, Ownable {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    using SafeMath for uint256;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    IUniswapV2Router02 public uniswapV2Router;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    address public  uniswapPair;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    bool private swapping;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    BABYTOKENDividendTracker public dividendTracker;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    address public rewardToken;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 public swapTokensAtAmount;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 public buyTokenRewardsFee;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 public sellTokenRewardsFee;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 public buyLiquidityFee;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 public sellLiquidityFee;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 public buyMarketingFee;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 public sellMarketingFee;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 public buyDeadFee;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 public sellDeadFee;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 public AmountLiquidityFee;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 public AmountTokenRewardsFee;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 public AmountMarketingFee;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    address public _marketingWalletAddress;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    address public deadWallet = 0x000000000000000000000000000000000000dEaD;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    mapping(address =&gt; bool) public _isBlacklisted;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 public gasForProcessing;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    bool public swapAndLiquifyEnabled = true;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     // exlcude from fees and max transaction amount</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    mapping (address =&gt; bool) private _isExcludedFromFees;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // store addresses that a automatic market maker pairs. Any transfer *to* these addresses</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // could be subject to a maximum transfer amount</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    mapping (address =&gt; bool) public automatedMarketMakerPairs;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event UpdateDividendTracker(address indexed newAddress, address indexed oldAddress);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event UpdateUniswapV2Router(address indexed newAddress, address indexed oldAddress);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event ExcludeFromFees(address indexed account, bool isExcluded);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event ExcludeMultipleAccountsFromFees(address[] accounts, bool isExcluded);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event SetAutomatedMarketMakerPair(address indexed pair, bool indexed value);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event LiquidityWalletUpdated(address indexed newLiquidityWallet, address indexed oldLiquidityWallet);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event GasForProcessingUpdated(uint256 indexed newValue, uint256 indexed oldValue);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event SwapAndLiquify(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 tokensSwapped,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 ethReceived,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 tokensIntoLiqudity</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    );</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event SendDividends(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 tokensSwapped,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 amount</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    );</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    event ProcessedDividendTracker(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 iterations,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 claims,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 lastProcessedIndex,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        bool indexed automatic,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 gas,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address indexed processor</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    );</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    constructor(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        string memory name_,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        string memory symbol_,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 totalSupply_,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address[4] memory addrs, // reward, router, marketing wallet, dividendTracker</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256[4] memory buyFeeSetting_, // rewards,lp,market,dead</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256[4] memory sellFeeSetting_,// rewards,lp,market,dead</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 tokenBalanceForReward_,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address serviceFeeReceiver_,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 serviceFee_</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) payable ERC20(name_, symbol_)  {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        rewardToken = addrs[0];</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _marketingWalletAddress = addrs[2];</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        buyTokenRewardsFee = buyFeeSetting_[0];</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        buyLiquidityFee = buyFeeSetting_[1];</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        buyMarketingFee = buyFeeSetting_[2];</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        buyDeadFee = buyFeeSetting_[3];</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        sellTokenRewardsFee = sellFeeSetting_[0];</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        sellLiquidityFee = sellFeeSetting_[1];</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        sellMarketingFee = sellFeeSetting_[2];</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        sellDeadFee = sellFeeSetting_[3];</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(buyTokenRewardsFee.add(buyLiquidityFee).add(buyMarketingFee).add(buyDeadFee) &lt;= 25, &quot;Total buy fee is over 25%&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(sellTokenRewardsFee.add(sellLiquidityFee).add(sellMarketingFee).add(sellDeadFee) &lt;= 25, &quot;Total sell fee is over 25%&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 totalSupply = totalSupply_ * (10**18);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        swapTokensAtAmount = totalSupply.mul(2).div(10**6); // 0.002%</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // use by default 300,000 gas to process auto-claiming dividends</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        gasForProcessing = 300000;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        dividendTracker = BABYTOKENDividendTracker(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            payable(Clones.clone(addrs[3]))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        dividendTracker.initialize(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            rewardToken,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            tokenBalanceForReward_</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        IUniswapV2Router02 _uniswapV2Router = IUniswapV2Router02(addrs[1]);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address _uniswapV2Pair = IUniswapV2Factory(_uniswapV2Router.factory())</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            .createPair(address(this), _uniswapV2Router.WETH());</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uniswapV2Router = _uniswapV2Router;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uniswapPair = _uniswapV2Pair;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _setAutomatedMarketMakerPair(_uniswapV2Pair, true);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // exclude from receiving dividends</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        dividendTracker.excludeFromDividends(address(dividendTracker));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        dividendTracker.excludeFromDividends(address(this));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        dividendTracker.excludeFromDividends(owner());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        dividendTracker.excludeFromDividends(deadWallet);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        dividendTracker.excludeFromDividends(address(_uniswapV2Router));</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // exclude from paying fees or having max transaction amount</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        excludeFromFees(owner(), true);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        excludeFromFees(_marketingWalletAddress, true);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        excludeFromFees(address(this), true);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _mint(owner(), totalSupply);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        payable(serviceFeeReceiver_).transfer(serviceFee_);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    receive() external payable {}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function updateMinimumTokenBalanceForDividends(uint256 val) public onlyOwner {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        dividendTracker.updateMinimumTokenBalanceForDividends(val);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function multipleBotlistAddress(address[] calldata accounts, bool excluded) public onlyOwner {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (uint256 i = 0; i &lt; accounts.length; i++) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            _isBlacklisted[accounts[i]] = excluded;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function getMinimumTokenBalanceForDividends()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        external</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        view</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        returns (uint256)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return dividendTracker.minimumTokenBalanceForDividends();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function updateUniswapV2Router(address newAddress) public onlyOwner {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(newAddress != address(uniswapV2Router), &quot;The router already has that address&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        emit UpdateUniswapV2Router(newAddress, address(uniswapV2Router));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uniswapV2Router = IUniswapV2Router02(newAddress);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address _uniswapV2Pair = IUniswapV2Factory(uniswapV2Router.factory())</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            .createPair(address(this), uniswapV2Router.WETH());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uniswapPair = _uniswapV2Pair;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function excludeFromFees(address account, bool excluded) public onlyOwner {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(_isExcludedFromFees[account] != excluded){</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            _isExcludedFromFees[account] = excluded;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            emit ExcludeFromFees(account, excluded);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function excludeMultipleAccountsFromFees(address[] calldata accounts, bool excluded) public onlyOwner {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        for(uint256 i = 0; i &lt; accounts.length; i++) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            _isExcludedFromFees[accounts[i]] = excluded;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        emit ExcludeMultipleAccountsFromFees(accounts, excluded);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function setMarketingWallet(address payable wallet) external onlyOwner{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _marketingWalletAddress = wallet;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function setAutomatedMarketMakerPair(address pair, bool value) public onlyOwner {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(pair != uniswapPair, &quot;The PancakeSwap pair cannot be removed from automatedMarketMakerPairs&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _setAutomatedMarketMakerPair(pair, value);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function _setAutomatedMarketMakerPair(address pair, bool value) private {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(automatedMarketMakerPairs[pair] != value, &quot;Automated market maker pair is already set to that value&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        automatedMarketMakerPairs[pair] = value;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(value) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            dividendTracker.excludeFromDividends(pair);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        emit SetAutomatedMarketMakerPair(pair, value);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function updateGasForProcessing(uint256 newValue) public onlyOwner {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(newValue &gt;= 200000 &amp;&amp; newValue &lt;= 500000, &quot;GasForProcessing must be between 200,000 and 500,000&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(newValue != gasForProcessing, &quot;Cannot update gasForProcessing to same value&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        emit GasForProcessingUpdated(newValue, gasForProcessing);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        gasForProcessing = newValue;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function updateClaimWait(uint256 claimWait) external onlyOwner {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        dividendTracker.updateClaimWait(claimWait);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function getClaimWait() external view returns(uint256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return dividendTracker.claimWait();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function getTotalDividendsDistributed() external view returns (uint256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return dividendTracker.totalDividendsDistributed();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function isExcludedFromFees(address account) public view returns(bool) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return _isExcludedFromFees[account];</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function withdrawableDividendOf(address account) public view returns(uint256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return dividendTracker.withdrawableDividendOf(account);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function dividendTokenBalanceOf(address account) public view returns (uint256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return dividendTracker.balanceOf(account);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function excludeFromDividends(address account) external onlyOwner{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        dividendTracker.excludeFromDividends(account);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function isExcludedFromDividends(address account) public view returns (bool) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return dividendTracker.isExcludedFromDividends(account);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function getAccountDividendsInfo(address account)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        external view returns (</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            address,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            int256,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            int256,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            uint256,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            uint256,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            uint256,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            uint256,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            uint256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return dividendTracker.getAccount(account);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function getAccountDividendsInfoAtIndex(uint256 index)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        external view returns (</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            address,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            int256,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            int256,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            uint256,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            uint256,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            uint256,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            uint256,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            uint256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return dividendTracker.getAccountAtIndex(index);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function processDividendTracker(uint256 gas) external {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        (uint256 iterations, uint256 claims, uint256 lastProcessedIndex) = dividendTracker.process(gas);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        emit ProcessedDividendTracker(iterations, claims, lastProcessedIndex, false, gas, tx.origin);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function claim() external {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        dividendTracker.processAccount(payable(msg.sender), false);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function getLastProcessedIndex() external view returns(uint256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return dividendTracker.getLastProcessedIndex();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function getNumberOfDividendTokenHolders() external view returns(uint256) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return dividendTracker.getNumberOfTokenHolders();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function swapManual() public onlyOwner {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 contractTokenBalance = balanceOf(address(this));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(contractTokenBalance &gt; 0 , &quot;token balance zero&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        swapping = true;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(AmountLiquidityFee &gt; 0) swapAndLiquify(AmountLiquidityFee);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(AmountTokenRewardsFee &gt; 0) swapAndSendDividends(AmountTokenRewardsFee);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(AmountMarketingFee &gt; 0) swapAndSendToFee(AmountMarketingFee);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        swapping = false;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function setSwapAndLiquifyEnabled(bool _enabled) public onlyOwner {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        swapAndLiquifyEnabled = _enabled;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function setSwapTokensAtAmount(uint256 amount) public onlyOwner {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        swapTokensAtAmount = amount;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function setDeadWallet(address addr) public onlyOwner {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        deadWallet = addr;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function setBuyTaxes(uint256 liquidity, uint256 rewardsFee, uint256 marketingFee, uint256 deadFee) external onlyOwner {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(rewardsFee.add(liquidity).add(marketingFee).add(deadFee) &lt;= 25, &quot;Total buy fee is over 25%&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        buyTokenRewardsFee = rewardsFee;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        buyLiquidityFee = liquidity;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        buyMarketingFee = marketingFee;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        buyDeadFee = deadFee;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function setSelTaxes(uint256 liquidity, uint256 rewardsFee, uint256 marketingFee, uint256 deadFee) external onlyOwner {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(rewardsFee.add(liquidity).add(marketingFee).add(deadFee) &lt;= 25, &quot;Total sel fee is over 25%&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        sellTokenRewardsFee = rewardsFee;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        sellLiquidityFee = liquidity;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        sellMarketingFee = marketingFee;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        sellDeadFee = deadFee;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function _transfer(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address from,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address to,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 amount</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) internal override {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(from != address(0), &quot;ERC20: transfer from the zero address&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(to != address(0), &quot;ERC20: transfer to the zero address&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(!_isBlacklisted[from] &amp;&amp; !_isBlacklisted[to], &#x27;Blacklisted address&#x27;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(amount == 0) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            super._transfer(from, to, 0);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            return;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 contractTokenBalance = balanceOf(address(this));</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        bool canSwap = contractTokenBalance &gt;= swapTokensAtAmount;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if( canSwap &amp;&amp;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            !swapping &amp;&amp;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            !automatedMarketMakerPairs[from] &amp;&amp;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            from != owner() &amp;&amp;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            to != owner() &amp;&amp;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            swapAndLiquifyEnabled</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        ) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            swapping = true;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(AmountMarketingFee &gt; 0) swapAndSendToFee(AmountMarketingFee);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(AmountLiquidityFee &gt; 0) swapAndLiquify(AmountLiquidityFee);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(AmountTokenRewardsFee &gt; 0) swapAndSendDividends(AmountTokenRewardsFee);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            swapping = false;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        bool takeFee = !swapping;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // if any account belongs to _isExcludedFromFee account then remove the fee</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(_isExcludedFromFees[from] || _isExcludedFromFees[to]) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            takeFee = false;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(takeFee) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            uint256 fees;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            uint256 LFee; // Liquidity</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            uint256 RFee; // Rewards</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            uint256 MFee; // Marketing</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            uint256 DFee; // Dead</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(automatedMarketMakerPairs[from]){</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                LFee = amount.mul(buyLiquidityFee).div(100);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                AmountLiquidityFee += LFee;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                RFee = amount.mul(buyTokenRewardsFee).div(100);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                AmountTokenRewardsFee += RFee;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                MFee = amount.mul(buyMarketingFee).div(100);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                AmountMarketingFee += MFee;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                DFee = amount.mul(buyDeadFee).div(100);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                fees = LFee.add(RFee).add(MFee).add(DFee);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(automatedMarketMakerPairs[to]){</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                LFee = amount.mul(sellLiquidityFee).div(100);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                AmountLiquidityFee += LFee;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                RFee = amount.mul(sellTokenRewardsFee).div(100);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                AmountTokenRewardsFee += RFee;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                MFee = amount.mul(sellMarketingFee).div(100);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                AmountMarketingFee += MFee;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                DFee = amount.mul(sellDeadFee).div(100);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                fees = LFee.add(RFee).add(MFee).add(DFee);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            amount = amount.sub(fees);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(DFee &gt; 0) super._transfer(from, deadWallet, DFee);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            super._transfer(from, address(this), fees.sub(DFee));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        super._transfer(from, to, amount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        try dividendTracker.setBalance(payable(from), balanceOf(from)) {} catch {}</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        try dividendTracker.setBalance(payable(to), balanceOf(to)) {} catch {}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(!swapping) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            uint256 gas = gasForProcessing;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            try dividendTracker.process(gas) returns (uint256 iterations, uint256 claims, uint256 lastProcessedIndex) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                emit ProcessedDividendTracker(iterations, claims, lastProcessedIndex, true, gas, tx.origin);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            catch {</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function swapAndSendToFee(uint256 tokens) private  {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 initialCAKEBalance = IERC20(rewardToken).balanceOf(address(this));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        swapTokensForCake(tokens);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 newBalance = (IERC20(rewardToken).balanceOf(address(this))).sub(initialCAKEBalance);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        IERC20(rewardToken).transfer(_marketingWalletAddress, newBalance);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        AmountMarketingFee = AmountMarketingFee - tokens;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function swapAndLiquify(uint256 tokens) private {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">       // split the contract balance into halves</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 half = tokens.div(2);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 otherHalf = tokens.sub(half);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 initialBalance = address(this).balance;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // swap tokens for ETH</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        swapTokensForEth(half); // &lt;- this breaks the ETH -&gt; HATE swap when swap+liquify is triggered</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // how much ETH did we just swap into?</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 newBalance = address(this).balance.sub(initialBalance);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // add liquidity to uniswap</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        addLiquidity(otherHalf, newBalance);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        AmountLiquidityFee = AmountLiquidityFee - tokens;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        emit SwapAndLiquify(half, newBalance, otherHalf);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function swapTokensForEth(uint256 tokenAmount) private {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // generate the uniswap pair path of token -&gt; weth</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address[] memory path = new address[](2);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        path[0] = address(this);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        path[1] = uniswapV2Router.WETH();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _approve(address(this), address(uniswapV2Router), tokenAmount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // make the swap</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uniswapV2Router.swapExactTokensForETHSupportingFeeOnTransferTokens(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            tokenAmount,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            0, // accept any amount of ETH</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            path,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            address(this),</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            block.timestamp</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function swapTokensForCake(uint256 tokenAmount) private {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        address[] memory path = new address[](3);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        path[0] = address(this);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        path[1] = uniswapV2Router.WETH();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        path[2] = rewardToken;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _approve(address(this), address(uniswapV2Router), tokenAmount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // make the swap</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uniswapV2Router.swapExactTokensForTokensSupportingFeeOnTransferTokens(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            tokenAmount,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            0,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            path,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            address(this),</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            block.timestamp</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function addLiquidity(uint256 tokenAmount, uint256 ethAmount) private {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // approve token transfer to cover all possible scenarios</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        _approve(address(this), address(uniswapV2Router), tokenAmount);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // add the liquidity</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uniswapV2Router.addLiquidityETH{value: ethAmount}(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            address(this),</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            tokenAmount,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            0, // slippage is unavoidable</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            0, // slippage is unavoidable</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            address(0),</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            block.timestamp</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    function swapAndSendDividends(uint256 tokens) private{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        swapTokensForCake(tokens);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        AmountTokenRewardsFee = AmountTokenRewardsFee - tokens;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 dividends = IERC20(rewardToken).balanceOf(address(this));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        bool success = IERC20(rewardToken).transfer(address(dividendTracker), dividends);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (success) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            dividendTracker.distributeCAKEDividends(dividends);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            emit SendDividends(tokens, dividends);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/rooctblog/docs/example/Visibility"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Visibility</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/rooctblog/docs/projects/Five"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Five »</div></a></div></nav></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Solidity</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/rooctblog/docs/Example/Helloworld">HelloWorld</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/rooctblog/">Stack Overflow</a></li></ul></div><div class="col footer__col"><div class="footer__title">Feature</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/rooctblog/">Feature</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/rooctblog/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/rooctblog/">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 dev site, Inc. Built with dev.</div></div></div></footer></div>
<script src="/rooctblog/assets/js/runtime~main.312148dc.js"></script>
<script src="/rooctblog/assets/js/main.831e0284.js"></script>
</body>
</html>